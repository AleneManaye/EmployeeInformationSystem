<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/template/template.xhtml">

	<ui:define name="content">
		<div>
			<div >
				<h:form>
					<h:commandButton value="Home" action="welcomeManager" class="myButton"/>
				</h:form>
			</div>
			<div id="accordion"
				style="width: 1000px; height: 500px; margin: auto; margin-top: 10px;">

				<h3>Details of the Employee</h3>
				<div>
					<h4>
						<center>
							<h:form prependId="false">
								<table class="CSSEmployeeDetailsTable" style="width: 800px;">
									<tr>
										<td colspan="2">Personal Details</td>
									</tr>
									<tr>
										<td><b><h:outputText value="Employee Id" /></b>&nbsp;</td>
										<td><h:outputText
												value="#{managerBean.employee.yashEmployeeId}" /></td>
									</tr>

									<tr>
										<td><b><h:outputText value="Name" /></b></td>
										<td><h:outputText
												value="#{managerBean.employee.firstName}" />&nbsp; <h:outputText
												value="#{managerBean.employee.lastName}" /></td>
									</tr>

									<tr>
										<td><b><h:outputText value="Email" /></b></td>
										<td><h:outputText value="#{managerBean.employee.email}" /></td>
									</tr>

									<tr>
										<td><b><h:outputText value="Address" /></b></td>
										<td><h:outputText
												value="#{managerBean.employee.address.houseNo}" /> &nbsp; <h:outputText
												value="#{managerBean.employee.address.streetName}" />&nbsp;
											<h:outputText value="#{managerBean.employee.address.city}" />&nbsp;
											<h:outputText value="#{managerBean.employee.address.state}" />
										</td>
									</tr>

									<tr>
										<td><b><h:outputText value="Contact" /></b></td>
										<td><h:outputText value="#{managerBean.employee.mobile}" />,&nbsp;
											<h:outputText
												value="#{managerBean.employee.alternate_mobile}" /></td>
									</tr>
								</table>

								<table class="CSSEmployeeDetailsTable" style="width: 800px;">
									<tr align="center">
										<td colspan="2" align="center">Other Details</td>
									</tr>
									<tr>
										<td>
											<b><h:outputText value="Skills"/></b>
										</td>
										<td style="text-align: left;">
											
																	
												<ul>
											<ui:repeat value="#{managerBean.employee.skills}" var="skill">
												<li>
												#{skill.skillName} 												
												</li>
												
												
											</ui:repeat>
												</ul>
										
										</td>
									</tr>
									
									<tr>
										<td><b><h:outputText value="Grade" /></b></td>
										<td><h:outputText
												value="#{managerBean.employee.grade.gradeValue}"
												readonly="true" id="gradeSelectMenu" /></td>
									</tr>

									<tr>
										<td><b><h:outputText value="FeedBack" /></b></td>
										<td><h:outputText
												value="#{managerBean.employee.feedBack.feedbackComment}"
												readonly="true" /></td>
									</tr>
								</table>


								<table class="CSSEmployeeDetailsTable" style="width: 800px;">
									<tr>
										<td colspan="2">Project Details</td>
									</tr>
									<tr>
										<td><b><h:outputText value="Projects" /></b></td>
										<td style="text-align: left;">
											<ul>
												<ui:repeat value="#{managerBean.employee.projects}"
													var="project">
													<li><h:outputText value="#{project.projectName}" /></li>
												</ui:repeat>
											</ul>
										</td>
									</tr>
								</table>

							</h:form>
						</center>
					</h4>
				</div>
				<h3>Employee Skills</h3>
				<div>
					
					
					
			
					<!-- <p style="text-align: center;font-size:8;font-weight: bolder;">Update Skills Efficiency</p> -->
					<h:form prependId="false">
					<table class="CSSEmployeeDetailsTable">
						<tr>
								<td>
									Select Skill Efficiency:
								</td>
								<td>
									<h:selectOneMenu style="color:black;font-weight: normal;" value="#{managerBean.efficiency_id}" >
										<f:selectItems value="#{managerBean.efficiencies}" var="efficiency" itemLabel="#{efficiency.efficiencyType}" itemValue="#{efficiency.skillefficiency_id}" />
									</h:selectOneMenu>
								</td>
							</tr>
					</table>
					
					<br/>
					
					<table  class="CSSEmployeeDetailsTable">
							<tr style="text-align: center;">
							<td>Skill</td>
							<td>Efficiency</td>
							<td>Edit</td>
							</tr>
							<ui:repeat var="skill" value="#{managerBean.employee.skills}">
								<tr style="text-align: center;">
									<td>
										#{skill.skillName}
									</td>
									<td>
										#{skill.efficiencyType}
									</td>
									<td>
										<h:commandLink action="#{managerBean.updateSkillEfficiency}">
										<h:graphicImage value="images/Active_icon.jpg" width="30px" height="30px"/>
										<f:setPropertyActionListener value="#{skill}" target="#{managerBean.skill}" />
										</h:commandLink>
									</td>
								</tr>
							</ui:repeat>
							<tr>
							<td colspan="3" style="background: #0057af -moz-linear-gradient(center top , #0057af 5%, #007fff 100%) repeat scroll 0 0;color: White;font-weight: bolder;">Add Skill for Employee</td>
							</tr>
							<tr>
							
							<td>
								<h:selectOneMenu value="#{managerBean.skill_id}" >
										<f:selectItems value="#{managerBean.skills}" var="skill" itemValue="#{skill.skill_id}" itemLabel="#{skill.skillName}" />
									</h:selectOneMenu>
							</td>
							
							<td>
									<h:selectOneMenu value="#{managerBean.addEfficiency_id}" >
										<f:selectItems value="#{managerBean.efficiencies}" var="efficiency" itemLabel="#{efficiency.efficiencyType}" itemValue="#{efficiency.skillefficiency_id}" />
									</h:selectOneMenu>
								</td>
								<td><h:commandButton class="myButton" value="Add" action="#{managerBean.addEmployeeSkill}"/></td>
							</tr>
						</table>
					</h:form>
					<br/>
					<br/>
					
					
				</div>
		
				<h3>Employee Grade</h3>
				<div style="padding-top:40px">
					
					<h:form>
						<table class="CSSEmployeeDetailsTable">
							<tr>
							<td colspan="2">Assign Grade</td>
							</tr>
							<tr>
								<td><h:outputText value="Grade : " /></td>
								<td>
								<h:selectOneMenu style="width:100px;" value="#{managerBean.grade_id}">
										<f:selectItems value="#{managerBean.grades}" var="grade" itemValue="#{grade.grade_id}" itemLabel="#{grade.gradeValue}" />
								</h:selectOneMenu>
								</td>
							</tr>
							<tr>
								<td colspan="2"> <h:commandButton class="myButton" value="Save"  action="#{managerBean.assignEmployeeGrade}" /></td>
							</tr>
						</table>
					</h:form>
				
				
				</div>
				<h3>Add Feedback</h3>
				<div>
					<h:form>
						<table>
							<tr>
								<td><h:outputText value="FeedBack : " /></td>
								<td><h:outputText style="color:gray;"
										value="#{managerBean.employee.feedBack.feedbackComment}" /></td>
							</tr>
						</table>
						<table>
							<tr>
								<td><h:inputTextarea value="#{managerBean.feedbackcomment}"
										cols="90" rows="2" p:placeholder="Enter FeedBack...">
									</h:inputTextarea></td>
							</tr>
							<tr>
								<td colspan="2" align="right"><h:outputText
										style="font-size:15px;color:gray;" value="Last Updated By:-" />
									<h:outputText style="font-size:15px;color:gray;"
										value="#{managerBean.employee.feedBack.lastUpdatedManager}" />
								</td>
							</tr>
							<tr>
								<td colspan="2" align="right"><h:commandButton
										class="myButton" value="Save"
										action="#{managerBean.saveFeedBack}" /></td>

							</tr>

						</table>
					</h:form>
				</div>
				<h3>Project Allocation</h3>
				
				<div>
					<h:form prependId="false">
					<table class="CSSEmployeeDetailsTable">
						<tr>
							<td colspan="2" align="center">Assign Project</td>
						</tr>
						<tr>
							<td>
							Select Project:
							</td>
							<td>
								<h:selectOneMenu value="#{managerBean.projectDetails_Id}">
						
									<f:selectItems value="#{managerBean.unallocatedEmployeeProjects}" var="projectdisplay" itemLabel="#{projectdisplay.projectName}" itemValue="#{projectdisplay.projectDetails_Id}" />

								</h:selectOneMenu>
							</td>
						</tr>
						<tr>
							<td colspan="2" align="right">
								<h:commandButton  class="myButton" value="Submit"  action="#{managerBean.allotProject}" />
							</td>
						</tr>
					</table>
					</h:form>
				<div style="padding-bottom: 30px;">
					<br/>
					<br/>
					<table class="CSSEmployeeDetailsTable">
									
									<tr>
										<td><b><h:outputText value="Current Working Projects" /></b></td>
										
									</tr>
									<tr>
									<td>
											<ul>
												<ui:repeat value="#{managerBean.employee.projects}"
													var="project">
													<li><h:outputText value="#{project.projectName}" /></li>
												</ui:repeat>
											</ul>
										</td>
									</tr>
								</table>				
				</div>

				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>
</html>
