<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/template/template.xhtml">


	<ui:define name="content">
		<script src="jquery/sweetalert.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/sweetalert.css" />
		<h:outputScript>

	if ('#{param.uploadmessage}' != '')
		swal("File Message!", "#{param.uploadmessage}")
		
	if ('#{param.employeemessange}' != '')
		swal("Form Message!", "#{param.employeemessange}")
		
	if ('#{param.skillmessage}' != ''){
		swal("Skill Message!", "#{param.skillmessage}")
		}
		
	function download(url){
		document.getElementById('spinner').style.display='';
		frame = document.createElement("iframe");
		frame.onload=function(){document.getElementById('spinner').style.display='none';}
		frame.src=url;
		document.body.appendChild(frame);
		$('iframe').hide();
	}
		$('iframe').remove();
	
	</h:outputScript>
		<div id="spinner"
			style="background-color: black; opacity: .5; width: 100%; height: 100%; display: none; position: absolute">Downloading....</div>

		<div id="dialog" style="display: none;">
			<h3>Guidelines</h3>
			<div>
				<table>

					<tr>
						<td>Welcome to the Employee Information System!</td>
					</tr>

					<tr>
						<td>Here, you can add and update your competency and
							expertise without any hassle. Please select the following tabs to
							fill up the required information.</td>
					</tr>


					<tr>
						<td>How to get started:</td>
					</tr>

					<tr>
						<td>
							<ul>
								<li>The first tab that is Employee Details are mandate to
									fill in order to continue with other tabs</li>
								<li>The other tabs can be filled anytime and in any order.
								</li>
								<li>Once filled, you can update the details anytime.</li>
							</ul>

						</td>
					</tr>

					<tr>
						<td>Download the Yash Format for resume:</td>
					</tr>
					<h:form>
						<tr>
							<td><h:commandButton type="button" class="myButton"
									onclick="download('https://raw.githubusercontent.com/deepak-vishwakarma-at-yash/sample/master/SampleResume.doc');"
									value="sample demo"></h:commandButton> <!-- <h:outputLink
									value="https://raw.githubusercontent.com/deepak-vishwakarma-at-yash/sample/master/SampleResume.doc"> Sample Resume </h:outputLink> --></td>
						</tr>
					</h:form>
				</table>
			</div>
		</div>
		<div class="pagebody">
			<div id="accordion"
				style="width: 70%; height: 50%; margin: auto; position: relative; top: 20%; bottom: 0; left: 0; right: 0; margin: auto;">


				<h3>Employee Details</h3>
				<div>

					For Guidelines and Sample yash format
					<h:outputLabel type="reset" id="guidelines" value="Click Here"
						style="color:red"></h:outputLabel>

					<h:form prependId="false">



						<div align="center">



							All fields with <sup style="color: red;">*</sup> are mandatory.
						</div>


						<table>



							<tr>
								<td>Enter Name : <sup style="color: red;">*</sup></td>
								<td><h:inputText id="firstname" size="20" required="true"
										requiredMessage="Please enter first name"
										p:placeholder="First name" p:maxlength="15"
										value="#{employeeBean.firstname}">
									</h:inputText></td>
								<td><h:inputText id="lastname" size="20" required="true"
										requiredMessage="Please enter last name" p:maxlength="15"
										p:placeholder="Last name" value="#{employeeBean.lastname}">

									</h:inputText></td>
							</tr>

							<tr>
								<td></td>
								<td style="color: red"><h:message id="firstnamemessage"
										for="firstname" style="color: red;"></h:message></td>
								<td style="color: red"><h:message id="lastnamemessage"
										for="lastname" style="color: red;"></h:message></td>
								<td></td>
							</tr>

							<tr>
								<td colspan="4" align="left"><h:inputHidden
										value="#{employeeBean.email}"></h:inputHidden></td>
							</tr>
							<tr>
								<td>Enter Yash Id :<sup style="color: red;">*</sup></td>
								<td colspan="2" align="left"><h:inputText id="yash_emp_id"
										name="empId" size="43" required="true"
										requiredMessage="Please enter yash ID" p:placeholder="100XXXX"
										p:maxlength="7" validatorMessage="Enter 7 digits"
										value="#{employeeBean.employeeId}">
										<f:validateLength minimum="7" maximum="7" />
									</h:inputText></td>
								<td><h:message for="yash_emp_id" style="color: red;"></h:message><span
									id="errmsg" style="color: red;"></span></td>

							</tr>

							<tr>
								<td>House No.<sup style="color: red;">*</sup>
								</td>
								<td><h:inputText id="houseNo" size="20"
										p:placeholder="House No" p:maxlength="5"
										value="#{employeeBean.houseNo}"></h:inputText></td>


								<td><h:inputText id="street" required="true"
										requiredMessage="Please enter Street Name"
										p:placeholder="Street Name" p:maxlength="30"
										value="#{employeeBean.streetName}"></h:inputText></td>
								<td><h:message id="streetmessage" for="street"
										style="color: red;"></h:message></td>
							</tr>

							<tr>
								<td></td>
								<td><h:message id="houseNoMessage" for="houseNo"
										style="color: red;"></h:message></td>
								<td></td>
								<td></td>
							</tr>

							<tr>
								<td>Enter City :<sup style="color: red;">*</sup></td>
								<td colspan="1" align="left"><h:inputText id="city"
										required="true" requiredMessage="Please enter city"
										p:placeholder="Enter City" p:maxlength="20"
										value="#{employeeBean.city}"></h:inputText></td>

								<td><h:inputText id="pincode" required="true"
										requiredMessage="Please enter pincode"
										validatorMessage="Please enter 6 digit pincode"
										p:placeholder="45XXXX" p:maxlength="6"
										value="#{employeeBean.pincode}">
										<f:validateLength minimum="6" maximum="6" />
									</h:inputText></td>
							</tr>

							<tr>

								<td></td>
								<td style="color: red"><h:message id="citymessage"
										for="city" style="color: red;"></h:message></td>
								<td><h:message for="pincode" style="color: red;"></h:message><span
									id="pincodemessage"></span></td>
								<td></td>

							</tr>


							<tr>
								<td>Enter State :<sup style="color: red;">*</sup></td>
								<td colspan="2" align="left"><h:inputText id="state"
										size="43" required="true" requiredMessage="Please enter state"
										p:placeholder="Enter State" p:maxlength="20"
										value="#{employeeBean.state}"></h:inputText></td>
								<td style="color: red"><h:message id="statemessage"
										for="state" style="color: red;"></h:message></td>

							</tr>

							<tr>
								<td>Enter Mobile No.:<sup style="color: red;">*</sup></td>
								<td colspan="2" align="left"><h:inputText id="mobileNumber"
										size="43" required="true"
										requiredMessage="Please enter mobile number"
										validatorMessage="10 digits are requried"
										p:placeholder="XXX9878XXX" p:maxlength="10"
										value="#{employeeBean.mobile}">
										<f:validateLength minimum="10" maximum="10" />
									</h:inputText></td>
								<td><h:message for="mobileNumber" style="color: red;"></h:message><span
									id="mobileerror" style="color: red"></span></td>
							</tr>
							<tr>
								<td>Alternate Mobile No: <sup style="color: red;">*</sup></td>
								<td colspan="2" align="left"><h:inputText size="43"
										id="alternateNumber" p:placeholder="XXX9878XXX"
										p:maxlength="10" value="#{employeeBean.alternate_mobile}"
										required="true"
										requiredMessage="Please enter alternate mobile number"></h:inputText></td>
								<td><h:message for="alternateNumber" style="color: red;"></h:message><span
									id="alternateerror" style="color: red"></span></td>
							</tr>

							<tr></tr>


						</table>

						<table width="800px">
							<tr>
								<td></td>
								<td colspan="4" align="center"><h:commandButton
										class="myButton" value="#{employeeBean.checkEmployee}"
										action="#{employeeBean.dataSave}" id="submitbtn"></h:commandButton></td>
							</tr>
						</table>


					</h:form>
				</div>
				<h3 class="class-disabled #{employeeBean.disableTab}">Upload</h3>
				<div>
					<h:form enctype="multipart/form-data" prependId="false">
						<table>
							<tr>
								<td>Upload here(NOTE - Upload Only Word Document):</td>
								<td><h:inputFile value="#{userBean.file}">
									</h:inputFile></td>
								<td><h:commandButton action="#{userBean.uploadFile}"
										value="Upload"></h:commandButton></td>
							</tr>
							<tr>
								<td colspan="3"><h:outputText
										value="#{param.uploadmessage}"></h:outputText></td>
							</tr>
						</table>
					</h:form>
				</div>

				<h3 class="class-disabled #{employeeBean.disableTab}">Skills</h3>
				<div id="skills">
					<h:form prependId="false">

						<table>

							<tr>
								<td>Select Your Skill</td>
								<td><h:selectOneMenu value="#{employeeBean.skillNameId}">
										<f:selectItem itemLabel="------------" itemValue="0"></f:selectItem>
										<f:selectItems value="#{employeeBean.skillList}" var="skill"
											itemLabel="#{skill.skillName}" itemValue="#{skill.skill_id}"></f:selectItems>

									</h:selectOneMenu></td>
								<td>Select Your Efficiency</td>
								<td><h:selectOneMenu
										value="#{employeeBean.skillEfficiencyId}">
										<f:selectItem itemLabel="------------" itemValue="0"></f:selectItem>
										<f:selectItems value="#{employeeBean.skillEfficiencyList}"
											var="efficiency" itemLabel="#{efficiency.efficiencyType}"
											itemValue="#{efficiency.skillefficiency_id}"></f:selectItems>

									</h:selectOneMenu></td>
								<td><h:commandButton value="SAVE"
										action="#{employeeBean.addSkillAndEfficiency}">
									</h:commandButton></td>

							</tr>
						</table>
						<br />
						<table>
							<tr>
								<th>Skill</th>
								<th>Efficiency</th>
							</tr>
							<ui:repeat var="empskill" value="#{employeeBean.employeeSkills}">
								<tr>
									<td>#{empskill.skillName}</td>
									<td>#{empskill.efficiencyType}</td>
									<td><h:commandButton value="Delete"
											action="#{employeeBean.deleteEmployeeSkill}">
											<f:param name="skillid" value="#{empskill.skill_id}"></f:param>
											<f:param name="efficiencyid"
												value="#{empskill.skillefficiency_id}"></f:param>
										</h:commandButton></td>
								</tr>
							</ui:repeat>
						</table>

					</h:form>

				</div>
			</div>
		</div>

	</ui:define>

</ui:composition>
</html>
